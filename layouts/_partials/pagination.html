{{ if gt .Paginator.TotalPages 1 }}
<nav class="mt-16 flex justify-center">
  <ul class="flex items-center space-x-2">
    {{ if .Paginator.HasPrev }}
    <li>
      <a href="{{ .Paginator.Prev.URL }}" class="flex items-center justify-center w-10 h-10 bg-white border border-gray-300 rounded-lg hover:bg-wine-50 hover:border-wine-300 transition-colors">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
        </svg>
      </a>
    </li>
    {{ end }}
    
    {{/* 智能分页逻辑：显示前几页 + 当前页附近 + 后几页 */}}
    {{ $currentPage := .Paginator.PageNumber }}
    {{ $totalPages := .Paginator.TotalPages }}
    
    {{/* 如果总页数 <= 7，显示所有页面 */}}
    {{ if le $totalPages 7 }}
      {{ range .Paginator.Pagers }}
        {{ if eq .PageNumber $currentPage }}
          <li><span class="flex items-center justify-center w-10 h-10 bg-wine-600 text-white rounded-lg font-medium">{{ .PageNumber }}</span></li>
        {{ else }}
          <li><a href="{{ .URL }}" class="flex items-center justify-center w-10 h-10 bg-white border border-gray-300 rounded-lg hover:bg-wine-50 hover:border-wine-300 transition-colors">{{ .PageNumber }}</a></li>
        {{ end }}
      {{ end }}
    {{ else }}
      {{/* 复杂分页：总是显示 1 ... 当前附近 ... 最后页 */}}
      
      {{/* 第1页 */}}
      {{ range .Paginator.Pagers }}
        {{ if eq .PageNumber 1 }}
          {{ if eq $currentPage 1 }}
            <li><span class="flex items-center justify-center w-10 h-10 bg-wine-600 text-white rounded-lg font-medium">1</span></li>
          {{ else }}
            <li><a href="{{ .URL }}" class="flex items-center justify-center w-10 h-10 bg-white border border-gray-300 rounded-lg hover:bg-wine-50 hover:border-wine-300 transition-colors">1</a></li>
          {{ end }}
          {{ break }}
        {{ end }}
      {{ end }}
      
      {{/* 左省略号 */}}
      {{ if gt $currentPage 3 }}
        <li><span class="flex items-center justify-center w-10 h-10 text-gray-400">...</span></li>
      {{ end }}
      
      {{/* 当前页附近 */}}
      {{ $start := sub $currentPage 1 }}
      {{ $end := add $currentPage 1 }}
      {{ if lt $start 2 }}{{ $start = 2 }}{{ end }}
      {{ if gt $end (sub $totalPages 1) }}{{ $end = sub $totalPages 1 }}{{ end }}
      
      {{ range .Paginator.Pagers }}
        {{ if and (ge .PageNumber $start) (le .PageNumber $end) (ne .PageNumber 1) (ne .PageNumber $totalPages) }}
          {{ if eq .PageNumber $currentPage }}
            <li><span class="flex items-center justify-center w-10 h-10 bg-wine-600 text-white rounded-lg font-medium">{{ .PageNumber }}</span></li>
          {{ else }}
            <li><a href="{{ .URL }}" class="flex items-center justify-center w-10 h-10 bg-white border border-gray-300 rounded-lg hover:bg-wine-50 hover:border-wine-300 transition-colors">{{ .PageNumber }}</a></li>
          {{ end }}
        {{ end }}
      {{ end }}
      
      {{/* 右省略号 */}}
      {{ if lt $currentPage (sub $totalPages 2) }}
        <li><span class="flex items-center justify-center w-10 h-10 text-gray-400">...</span></li>
      {{ end }}
      
      {{/* 最后页 */}}
      {{ if gt $totalPages 1 }}
        {{ range .Paginator.Pagers }}
          {{ if eq .PageNumber $totalPages }}
            {{ if eq $currentPage $totalPages }}
              <li><span class="flex items-center justify-center w-10 h-10 bg-wine-600 text-white rounded-lg font-medium">{{ $totalPages }}</span></li>
            {{ else }}
              <li><a href="{{ .URL }}" class="flex items-center justify-center w-10 h-10 bg-white border border-gray-300 rounded-lg hover:bg-wine-50 hover:border-wine-300 transition-colors">{{ $totalPages }}</a></li>
            {{ end }}
            {{ break }}
          {{ end }}
        {{ end }}
      {{ end }}
    {{ end }}
    
    {{ if .Paginator.HasNext }}
    <li>
      <a href="{{ .Paginator.Next.URL }}" class="flex items-center justify-center w-10 h-10 bg-white border border-gray-300 rounded-lg hover:bg-wine-50 hover:border-wine-300 transition-colors">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
        </svg>
      </a>
    </li>
    {{ end }}
  </ul>
</nav>
{{ end }}