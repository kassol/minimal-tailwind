document.addEventListener('DOMContentLoaded', function() {
  console.log('This site was generated by Hugo.');
  
  // 为所有prose中的图片添加lightbox
  const images = document.querySelectorAll('.prose img');
  
  images.forEach(img => {
    // 创建lightbox链接包装器
    const wrapper = document.createElement('a');
    wrapper.href = img.src;
    wrapper.setAttribute('data-gallery', 'post-images');
    wrapper.setAttribute('data-glightbox', '');
    
    // 替换原始图片
    img.parentNode.insertBefore(wrapper, img);
    wrapper.appendChild(img);
  });
  
  // 初始化GLightbox（使用全局变量）
  if (typeof GLightbox !== 'undefined') {
    GLightbox({
      selector: '[data-glightbox]',
      touchNavigation: true,
      loop: true,
      autoplayVideos: false,
      closeButton: true,
      openEffect: 'fade',
      closeEffect: 'fade'
    });
  }
});
